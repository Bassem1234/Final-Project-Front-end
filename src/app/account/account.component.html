<app-header></app-header>

<section class="blog-details-section pt-120 pb-120" style="padding-top: 60mm; background-color:whitesmoke;">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8" style="padding: 10mm; background-color: white; min-height: 60mm;">
                <div class="row">
                    <div class="col-lg-3" id="left-menu">
                        <div class="row">
                            <a [class]="details? 'btn selItem': 'btn unselItem'" (click)="showdetails()">Account
                                Details <span style="margin-left: 5mm;"><i class="fas fa-user"></i></span></a>
                        </div>
                        <div class="row">
                            <a [class]="bask? 'btn selItem': 'btn unselItem'" (click)="showBasket()"
                                *ngIf="user.profile == 'Simple user'">Basket
                                <span style="margin-left: 17.75mm;"><i class="far fa-shopping-cart"></i></span></a>
                            <a [class]="commands? 'btn selItem': 'btn unselItem'" (click)="showCommands()"
                                *ngIf="user.profile != 'Simple user'">My Events
                                <span style="margin-left: 13mm;"><i class="fal fa-calendar-alt"></i></span></a>
                        </div>
                        <div class="row" *ngIf="user.profile !='Simple user'">
                            <a [class]="add? 'btn selItem': 'btn unselItem'" (click)="addEvent()">Add
                                an Event <span style="margin-left: 8.5mm;"><i class="fas fa-plus"></i></span></a>
                        </div>
                        <div class="row" *ngIf="user.profile =='Simple user'">
                            <a [class]="commands? 'btn selItem': 'btn unselItem'" (click)="showCommands()">Commands
                                <span style="margin-left: 11.5mm;"><i class="fas fa-plus"></i></span></a>
                        </div>
                        <div class="row">
                            <a class="btn unselItem" (click)="logOut()">Log
                                out <span style="margin-left: 17.5mm;"><i class="fas fa-sign-out-alt"></i></span></a>
                        </div>
                    </div>
                    <div class="col-1" id="left-menu2" style="display: none;">
                        <div class="row">
                            <a [class]="details? 'btn selItem': 'btn unselItem'" (click)="showdetails()"><i class="fas fa-user"></i></a>
                        </div>
                        <div class="row">
                            <a [class]="bask? 'btn selItem': 'btn unselItem'" (click)="showBasket()"
                                *ngIf="user.profile == 'Simple user'"><i class="far fa-shopping-cart"></i></a>
                            <a [class]="commands? 'btn selItem': 'btn unselItem'" (click)="showCommands()"
                                *ngIf="user.profile != 'Simple user'"><i class="fal fa-calendar-alt"></i></a>
                        </div>
                        <div class="row" *ngIf="user.profile !='Simple user'">
                            <a [class]="add? 'btn selItem': 'btn unselItem'" (click)="addEvent()"><i class="fas fa-plus"></i></a>
                        </div>
                        <div class="row" *ngIf="user.profile =='Simple user'">
                            <a [class]="commands? 'btn selItem': 'btn unselItem'" (click)="showCommands()"><i class="fas fa-plus"></i></a>
                        </div>
                        <div class="row">
                            <a class="btn unselItem" (click)="logOut()"><i class="fas fa-sign-out-alt"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-9 col-md-11">

                        <!-- Personal Details form -->
                        <div class="row" *ngIf="details && !edit" style="margin-top: -8mm;">

                            <div class="col-lg-11"></div>
                            <div class="collg-1">
                                <i class="far fa-edit btn" title="edit" (click)="editProfil()"></i>
                            </div>

                            <div class="col-lg-12">
                                <p style="font-size: 3.5mm;"><i class="fas fa-user" style="margin-right: 2mm;"></i>
                                    Name: {{user?.fName}} {{user?.lName}}</p>
                                <p style="font-size: 3.5mm;"><i class="fas fa-envelope" style="margin-right: 2mm;"></i>
                                    Email: {{user?.email}}</p>
                                <p style="font-size: 3.5mm;"><i class="fas fa-home" style="margin-right: 2mm;"></i>
                                    Adress: {{user?.adress}}</p>
                                <p style="font-size: 3.5mm;"><i class="fas fa-phone" style="margin-right: 2mm;"></i>
                                    Tel: {{user?.phone}}</p>
                            </div>
                        </div>

                        <form *ngIf="details && edit" [formGroup]="detailForm">
                            <div class="row form_group" formGroupName="nameGroup" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="text" class="form-control" placeholder="First name"
                                        style="font-size: 3.5mm;border-radius: 0%;" formControlName="fName">
                                    <i class="fas fa-user" style="margin-top: -6mm; margin-right: -4mm;"></i>
                                </div>
                                <div class="col-6">
                                    <input type="text" class="form-control" placeholder="Last name"
                                        style="font-size: 3.5mm;border-radius: 0%;" formControlName="lName">
                                    <i class="fas fa-user" style="margin-top: -6mm; margin-right: -4mm;"></i>
                                </div>
                            </div>
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="tel" class="form-control" placeholder="Phone number"
                                        formControlName="phone" style="font-size: 3.5mm;border-radius: 0%;">
                                    <i class="fas fa-phone" style="margin-top: -6mm; margin-right: -4mm;"></i>
                                </div>
                                <div class="col-6">
                                    <input type="email" class="form-control" placeholder="Email"
                                        style="font-size: 3.5mm;border-radius: 0%;" formControlName="email">
                                    <i class="fas fa-envelope" style="margin-top: -6mm; margin-right: -4mm;"></i>
                                </div>
                            </div>
                            <div class="row form_group">
                                <div class="col-6">
                                    <input [type]="!pass? 'password' : 'text'" class="form-control"
                                        placeholder="Password" style="font-size: 3.5mm;border-radius: 0%;"
                                        formControlName="password">
                                    <a class="btn">
                                        <i class="fas fa-eye btn" style="margin-top: -7mm; margin-right: -7.75mm;"
                                            (click)="hidePass()" *ngIf="!pass"></i>
                                        <i class="fas fa-eye-slash btn" style="margin-top: -7mm; margin-right: -7.75mm;"
                                            (click)="showPass()" *ngIf="pass"></i>
                                    </a>
                                </div>
                                <div class="col-6">
                                    <input type="text" class="form-control" placeholder="adress"
                                        style="font-size: 3.5mm;border-radius: 0%;" formControlName="adress">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4"></div>
                                <div class="col-lg-4 col-md-12" style="margin-left: 4mm;">
                                    <button id="up" class="btn" [disabled]="!detailForm.touched || detailForm.invalid"
                                        (click)="saveInfoEdit()"
                                        style="background-color: rgb(236,57,139); font-size: 3mm; border-radius: 0%;"><span
                                            style="color: white;">Update</span></button>
                                    <button id="dis" class="btn" (click)="dismiss()"
                                        style="background-color: white; border: 1px solid rgb(236,57,139); font-size: 3mm; border-radius: 0%; margin-left: 2mm;"><span
                                            style="color: rgb(236,57,139);">Dismiss</span></button>
                                </div>
                            </div>
                        </form>
                        <!-- Add an Event form -->
                        <form *ngIf="add" [formGroup]="eventForm">
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="text" class="form-control" placeholder="Event name*"
                                        formControlName="eventName" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <input type="text" class="form-control" placeholder="Title*" formControlName="title"
                                        style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                            </div>
                            <div class="row" style="margin-bottom: 3mm;">
                                <div class="col-lg-12">
                                    <textarea placeholder="Add a description here*" cols="30" rows="3"
                                        formControlName="description" class="form-control"
                                        style="font-size: 3.5mm; border-radius: 0%;"></textarea>
                                </div>
                            </div>
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="adress" class="form-control" placeholder="Adress"
                                        formControlName="adress" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <input [type]="!schel? 'datetime-local' : 'date'" class="form-control"
                                        formControlName="startDate" placeholder="Time"
                                        style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                            </div>
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="file" accept="image/*" class="form-control" name="file" id="file"
                                        (change)="onChange($event)" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <select class="form-control" style="font-size: 3.5mm; border-radius: 0%;"
                                        formControlName="category">
                                        <option>Category</option>
                                        <option>Festival</option>
                                        <option>Sport</option>
                                        <option>Concert</option>
                                        <option>Cinema</option>
                                        <option>Theatre</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="number" class="form-control" placeholder="tickets available"
                                        formControlName="ticketAvailable" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <input type="number" min="0.000" max="100000.000" step="0.100" class="form-control"
                                        formControlName="price" placeholder="Price in TND (per ticket)*"
                                        style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                            </div>
                            <!-- <div class="row">
                                <div class="col-lg-12">
                                    <div class="row">
                                        <div class="col-1" style="margin-top: -1.75mm; margin-right: -8mm;">
                                            <input type="checkbox" id="sev" class="form-control" style="width: 5mm;"
                                                formControlName="sevDays"
                                                [attr.disabled]="eventForm.invalid? true : null">
                                        </div>
                                        <div class="col-6">
                                            <label for="sev">your event will take place over several days?</label>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                            <div *ngIf="eventForm.value.sevDays"
                                [attr.disbaled]="!eventForm.get('endDate').touched? true : null">
                                <div class="row form_group" style="margin-bottom: 3mm;">
                                    <div class="col-6">
                                        <label style="font-size: 3mm;">End Date</label>
                                        <input type="date" class="form-control" min="2022-02-02"
                                            style="font-size: 3.5mm; border-radius: 0%;">
                                    </div>
                                </div>
                                <!-- <div class="row">
                                    <div class="col-lg-2">
                                        <span  class="btn selbtn">1st day
                                        </span>
                                    </div>
                                    <div class="col-lg-2">
                                        <span style="width: 120%;"
                                            class="btn unselbtn">2nd
                                            day</span>
                                    </div>
                                    <div class="col-lg-2">
                                        <span class="btn unselbtn">3rd day</span>
                                    </div>
                                    <div class="col-lg-2">
                                        <span class="btn unselbtn">4th day</span>
                                    </div>
                                    <div class="col-lg-2">
                                        <span class="btn unselbtn">5th day</span>
                                    </div>
                                </div> -->

                                <div class="row">
                                    <div class="col-lg-1" id="arrows">
                                        <i class="fas fa-chevron-square-left btn arrow prev"
                                            style="color: rgb(236,57,139);"></i>
                                    </div>
                                    <div class="col-lg-1">
                                        <span class="btn addDay" (click)="addDay()" title="new day"> <i
                                                class="fas fa-plus-circle"></i>
                                        </span>
                                    </div>
                                    <div class="col-lg-8">
                                        <ngx-slick-carousel class="carousel" style="background-color: transparent;"
                                            #slickModal="slick-carousel" [config]="slideConfig"
                                            (breakpoint)="breakpoint($event)" (afterChange)="afterChange($event)"
                                            (beforeChange)="beforeChange($event)">
                                            <div ngxSlickItem class="slide" *ngFor="let day of days; index as i">
                                                <span [class]="i == aDay.id -1 ? 'btn selbtn' : 'btn unselbtn'"
                                                    (click)="selectDay(i)">Day {{i+1}}
                                                </span>
                                            </div>

                                        </ngx-slick-carousel>
                                    </div>
                                    <div class="col-lg-1" id="arrows">
                                        <i class="fas fa-chevron-square-right btn arrow next"
                                            style="color: rgb(236,57,139);"></i>
                                    </div>
                                </div>
                                <div>
                                    <fieldset
                                        style="border: 1px solid rgba(0,0,0,0.2); padding: 3mm; margin-bottom: 3mm;"
                                        *ngFor="let sub of days[indice].subEvent">
                                        <div class="row" style="margin-bottom: 3mm;">
                                            <div class="col-7">
                                                <h6 style="color: rgb(236,57,139);"><i
                                                        class="fas fa-map-marker-alt"></i>
                                                    {{eventForm.value.adress}}</h6>
                                            </div>
                                            <div class="col-4">
                                                <h6 style="color: rgb(236,57,139);"><i class="far fa-clock"></i>
                                                    {{sub.startTime}} -
                                                    {{sub.endTime}} AM
                                                </h6>
                                            </div>
                                            <div class="col-1">
                                                <a class="btn" style="margin-top: -3mm; margin-left: -2mm;"
                                                    title="delete"><i class="fas fa-trash-alt"></i></a>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <h4>{{sub.title}}</h4>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <p style="font-size: 3mm;">{{sub.description}}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="sub.tickets">
                                            <div class="col-6">
                                                <p style="color: rgb(236,57,139); font-size: 2.5mm;"><i
                                                        class="fal fa-ticket-alt"></i> {{sub.avTickets}}</p>
                                            </div>
                                            <div class="col-6">
                                                <p style="color: rgb(236,57,139); font-size: 2.5mm;">
                                                    {{sub.price}}
                                                    TND
                                                    / ticket</p>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                                <div style="border: 1px solid rgba(0,0,0,0.2); padding: 3mm;"
                                    *ngIf="newschel || days[indice].subEvent.length==0" [formGroup]="dayForm">
                                    <div formGroupName="subEvent">
                                        <div class="row form_group" style="margin-bottom: 3mm;">
                                            <div class="col-6">
                                                <input type="text" class="form-control" placeholder="Title*"
                                                    formControlName="title"
                                                    style="font-size: 3.5mm; border-radius: 0%;">
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="time" id="start" class="form-control"
                                                    formControlName="startTime" style="font-size: 3mm;"
                                                    title="start at">
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="time" id="end" class="form-control"
                                                    formControlName="endTime" style="font-size: 3mm;" title="end at">
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm;">
                                            <div class="col-12">
                                                <textarea cols="30" rows="2" class="form-control"
                                                    placeholder="Add a description here*" formControlName="description"
                                                    style="font-size: 3mm;"></textarea>
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm; margin-left: 2mm;">
                                            <div class="col-12">
                                                <input type="checkbox" class="form-check-input" id="exampleCheck1"
                                                    formControlName="tickets">
                                                <label class="form-check-label" for="exampleCheck1"
                                                    style="font-size: 3mm;">Add
                                                    tickets to this part of the event</label>
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm;">
                                            <div class="col-6">
                                                <input type="number" class="form-control" formControlName="avTickets"
                                                    placeholder="tickets available"
                                                    style="font-size: 3mm; border-radius: 0%;">
                                            </div>
                                            <div class="col-6">
                                                <input type="number" min="0.000" max="100000.000" step="0.100"
                                                    formControlName="price" class="form-control"
                                                    placeholder="Price in TND (per ticket)*"
                                                    style="font-size: 3mm; border-radius: 0%;">
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm;">
                                            <div class="col-4"></div>
                                            <div class="col-4">
                                                <button id="up" class="btn" (click)="saveSubEv()"
                                                    [disabled]="dayForm.invalid"
                                                    style="background-color: rgb(236,57,139); font-size: 3mm; border-radius: 0%;"><span
                                                        style="color: white;">Save</span></button>
                                                <button id="dis" class="btn" (click)="dismissSchel()"
                                                    (click)="dismissDay()"
                                                    style="background-color: white; border: 1px solid rgb(236,57,139); font-size: 3mm; border-radius: 0%; margin-left: 2mm;"><span
                                                        style="color: rgb(236,57,139);">Dismiss</span></button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row form_group" style="margin-bottom: 3mm;">
                                    <div class="col-6">
                                        <button class="btn" id="new" (click)="newSchel()" [disabled]="newschel"
                                            style="border-bottom: 1px solid rgb(236,57,139); font-size: 3.5mm; border-radius: 0%;"><span
                                                id="word">New</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12 text-center">
                                    <button class="btn" id="svEv" (click)="saveEvent()"
                                        [disabled]="!eventForm.touched || eventForm.invalid"><span>Save</span></button>
                                </div>
                            </div>
                        </form>

                        <!-- Commands parts  -->
                        <!-- There is no command -->
                        <div class="row" style="margin-top: 15mm;" *ngIf="false">
                            <div class="col-12">
                                <p style="text-align: center;">There is no command, you can book tickets for one of our
                                    events on the event module</p>
                            </div>
                            <div class="col-lg-12 text-center" style="margin-top: 4mm;">
                                <button class="main-btn">Event List</button>
                            </div>
                        </div>
                        <!-- Display commands -->
                        <div *ngIf="bask && user.profile == 'Simple user'">
                            <div *ngIf="user.basket.length == 0">
                                <div class="row" style="margin-top: 10mm;">
                                    <div class="col-3"></div>
                                    <div class="col-6 text-center">You basket is empty! Check our events on events section</div>
                                </div>
                            </div>
                            <div class="row" *ngFor="let event of basket; let i = index">
                                <div class="col-12">
                                    <div class="card mb-3" style="max-width: 540px;">
                                        <div class="row no-gutters">
                                            <div class="col-md-4">
                                                <img [src]="event.picture"
                                                    class="card-img" alt="..." style="height: 100%; max-height: 40mm;">
                                            </div>
                                            <div class="col-md-8">
                                                <div class="card-body">
                                                    <h5 class="card-title">{{event.eventName}}</h5>
                                                    <p class="card-text">
                                                        <span><input type="number" id="quantity" name="quantity" min="1"
                                                                max="5" [(ngModel)]="totalPrice[i]" max="5" value="1"
                                                                class="form-control"
                                                                style="width: 17mm; font-size: 3mm;">
                                                        </span>
                                                        <span><label for="quantity"
                                                                style="font-size: 3mm; margin-left: 1mm;"> Ticket(s)
                                                            </label></span>
                                                        <span style="font-size: 3mm; margin-left: 3mm;"> Price:
                                                            {{totalPrice[i] * event.price}}</span>
                                                    </p>
                                                    <button id="up" class="btn"
                                                        [disabled]="totalPrice[i] == 0? true : null"
                                                        (click)="validate(i)"
                                                        style="background-color: rgb(236,57,139); font-size: 3mm; border-radius: 0%;"><span
                                                            style="color: white;">validate</span></button>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                                                

                        <div *ngIf="commands && user.profile != 'Simple user'">
                            <div  *ngIf="user.events.length == 0">
                                <div class="row" style="margin-top: 10mm;">
                                    <div class="col-3"></div>
                                    <div class="col-6 text-center">You did not create any event yet!</div>
                                </div>
                            </div>
                            <div class="row" *ngFor="let event of user.events; let i= index">
                                <div class="col-12">
                                    <div class="card mb-3" style="max-width: 540px;">
                                        <div class="row no-gutters">
                                            <div class="col-md-4">
                                                <img [src]="event.picture"
                                                    class="card-img" alt="..." style="height: 100%; max-height: 40mm;">
                                            </div>
                                            <div class="col-md-7">
                                                <div class="card-body">
                                                    <h4 class="card-title">{{event.eventName}}</h4>
                                                    <p class="card-text">
                                                        <span><label for="quantity"
                                                                style="font-size: 3mm; margin-left: 1mm;">Tickets:
                                                                {{event.ticketAvailable}}
                                                            </label></span>
                                                        <span style="font-size: 3mm; margin-left: 3mm;"> Price:
                                                            {{event.price}}</span> <br>
                                                        <span>Participants: {{event.participants}}</span>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-md-1"><i class="fas fa-edit btn" (click)="editEvent(i)"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="commands && user.profile == 'Simple user'">
                            <div *ngIf="user.tickets.length == 0">
                                <div class="row" style="margin-top: 10mm;">
                                    <div class="col-3"></div>
                                    <div class="col-6 text-center">There is no validated tickets! Please check your basket and validate your tickets</div>
                                </div>
                            </div>
                            <div class="row" *ngFor="let ticket of user.tickets">
                                <div class="col-12">
                                    <div class="card mb-3" style="max-width: 540px;">
                                        <div class="row no-gutters">
                                            <div class="col-md-4">
                                                <img [src]="ticket.event.picture"
                                                    class="card-img" alt="..." style="height: 100%; max-height: 40mm;">
                                            </div>
                                            <div class="col-md-8">
                                                <div class="card-body">
                                                    <h5 class="card-title">{{ticket.event.eventName}}</h5>
                                                    <p class="card-text">
                                                        <span><label for="quantity"
                                                                style="font-size: 3mm; margin-left: 1mm;">{{ticket.ticketNumber}}
                                                                Ticket(s)
                                                            </label></span>
                                                        <span style="font-size: 3mm; margin-left: 3mm;"> Price:
                                                            {{ticket.price}}</span>
                                                    </p>
                                                    <span style="color: orange; font-size: 2.75mm; margin-top: -3mm;">
                                                        Please present yourself with an ID,
                                                        you can pay and collect your tickets on the day of the event in
                                                        front of the door </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Edit Event -->


                        <form *ngIf="edForm" [formGroup]="editForm">
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="text" class="form-control" placeholder="Event name*" disabled
                                        formControlName="eventName" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <input type="text" class="form-control" placeholder="Title*" formControlName="title"
                                        style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                            </div>
                            <div class="row" style="margin-bottom: 3mm;">
                                <div class="col-lg-12">
                                    <textarea placeholder="Add a description here*" cols="30" rows="3"
                                        formControlName="description" class="form-control"
                                        style="font-size: 3.5mm; border-radius: 0%;"></textarea>
                                </div>
                            </div>
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="adress" class="form-control" placeholder="Adress"
                                        formControlName="adress" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <input type="datetime-local" class="form-control" formControlName="startDate"
                                        placeholder="Time" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                            </div>
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="file" accept="image/*" class="form-control" name="file" id="file"
                                        (change)="onChange($event)" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <select class="form-control" style="font-size: 3.5mm; border-radius: 0%;"
                                        formControlName="category">
                                        <option>Category</option>
                                        <option>Festival</option>
                                        <option>Sport</option>
                                        <option>Concert</option>
                                        <option>Cinema</option>
                                        <option>Theatre</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row form_group" style="margin-bottom: 3mm;">
                                <div class="col-6">
                                    <input type="number" class="form-control" placeholder="tickets available"
                                        formControlName="ticketAvailable" style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                                <div class="col-6">
                                    <input type="number" min="0.000" max="100000.000" step="0.100" class="form-control"
                                        formControlName="price" placeholder="Price in TND (per ticket)*"
                                        style="font-size: 3.5mm; border-radius: 0%;">
                                </div>
                            </div>
                            <!-- <div class="row">
                                <div class="col-lg-12">
                                    <div class="row">
                                        <div class="col-1" style="margin-top: -1.75mm; margin-right: -8mm;">
                                            <input type="checkbox" id="sev" class="form-control" style="width: 5mm;"
                                                formControlName="sevDays" [attr.disabled]= "editForm.invalid? true : null">
                                        </div>
                                        <div class="col-6">
                                            <label for="sev">your event will take place over several days?</label>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                            <!-- <div *ngIf="eventForm.value.sevDays" [attr.disbaled] = "!eventForm.get('endDate').touched? true : null">
                                <div class="row form_group" style="margin-bottom: 3mm;">
                                    <div class="col-6">
                                        <label style="font-size: 3mm;">End Date</label>
                                        <input type="date" class="form-control" min="2022-02-02"
                                            style="font-size: 3.5mm; border-radius: 0%;">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-1" id="arrows">
                                        <i class="fas fa-chevron-square-left btn arrow prev"
                                            style="color: rgb(236,57,139);"></i>
                                    </div>
                                    <div class="col-lg-1">
                                        <span class="btn addDay" (click)="addDay()" title="new day"> <i
                                                class="fas fa-plus-circle"></i>
                                        </span>
                                    </div>
                                    <div class="col-lg-8">
                                        <ngx-slick-carousel class="carousel" style="background-color: transparent;"
                                            #slickModal="slick-carousel" [config]="slideConfig"
                                             (breakpoint)="breakpoint($event)"
                                            (afterChange)="afterChange($event)" (beforeChange)="beforeChange($event)">
                                            <div ngxSlickItem class="slide" *ngFor="let day of days; index as i">
                                                <span [class]="i == aDay.id -1 ? 'btn selbtn' : 'btn unselbtn'"
                                                    (click)="selectDay(i)">Day {{i+1}}
                                                </span>
                                            </div>

                                        </ngx-slick-carousel>
                                    </div>
                                    <div class="col-lg-1" id="arrows">
                                        <i class="fas fa-chevron-square-right btn arrow next"
                                            style="color: rgb(236,57,139);"></i>
                                    </div>
                                </div>
                                <div >
                                    <fieldset
                                        style="border: 1px solid rgba(0,0,0,0.2); padding: 3mm; margin-bottom: 3mm;"
                                        *ngFor="let sub of days[indice].subEvent">
                                        <div class="row" style="margin-bottom: 3mm;">
                                            <div class="col-7">
                                                <h6 style="color: rgb(236,57,139);"><i
                                                        class="fas fa-map-marker-alt"></i>
                                                    {{eventForm.value.adress}}</h6>
                                            </div>
                                            <div class="col-4">
                                                <h6 style="color: rgb(236,57,139);"><i class="far fa-clock"></i>
                                                    {{sub.startTime}} -
                                                    {{sub.endTime}} AM
                                                </h6>
                                            </div>
                                            <div class="col-1">
                                                <a class="btn" style="margin-top: -3mm; margin-left: -2mm;"
                                                    title="delete"><i class="fas fa-trash-alt"></i></a>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <h4>{{sub.title}}</h4>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <p style="font-size: 3mm;">{{sub.description}}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="sub.tickets">
                                            <div class="col-6">
                                                <p style="color: rgb(236,57,139); font-size: 2.5mm;"><i
                                                        class="fal fa-ticket-alt"></i> {{sub.avTickets}}</p>
                                            </div>
                                            <div class="col-6">
                                                <p style="color: rgb(236,57,139); font-size: 2.5mm;">
                                                    {{sub.price}}
                                                    TND
                                                    / ticket</p>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                                <div style="border: 1px solid rgba(0,0,0,0.2); padding: 3mm;" *ngIf="newschel || days[indice].subEvent.length==0"
                                    [formGroup]="dayForm">
                                    <div formGroupName="subEvent">
                                        <div class="row form_group" style="margin-bottom: 3mm;">
                                            <div class="col-6">
                                                <input type="text" class="form-control" placeholder="Title*"
                                                    formControlName="title"
                                                    style="font-size: 3.5mm; border-radius: 0%;">
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="time" id="start" class="form-control"
                                                    formControlName="startTime" style="font-size: 3mm;"
                                                    title="start at">
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="time" id="end" class="form-control"
                                                    formControlName="endTime" style="font-size: 3mm;" title="end at">
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm;">
                                            <div class="col-12">
                                                <textarea cols="30" rows="2" class="form-control"
                                                    placeholder="Add a description here*" formControlName="description"
                                                    style="font-size: 3mm;"></textarea>
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm; margin-left: 2mm;">
                                            <div class="col-12">
                                                <input type="checkbox" class="form-check-input" id="exampleCheck1"
                                                    formControlName="tickets">
                                                <label class="form-check-label" for="exampleCheck1"
                                                    style="font-size: 3mm;">Add
                                                    tickets to this part of the event</label>
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm;" >
                                            <div class="col-6">
                                                <input type="number" class="form-control" formControlName="avTickets"
                                                    placeholder="tickets available" 
                                                    style="font-size: 3mm; border-radius: 0%;">
                                            </div>
                                            <div class="col-6">
                                                <input type="number" min="0.000" max="100000.000" step="0.100" 
                                                    formControlName="price" class="form-control"
                                                    placeholder="Price in TND (per ticket)*"
                                                    style="font-size: 3mm; border-radius: 0%;">
                                            </div>
                                        </div>
                                        <div class="row form_group" style="margin-bottom: 3mm;">
                                            <div class="col-4"></div>
                                            <div class="col-4">
                                                <button id="up" class="btn" (click)="saveSubEv()" [disabled]="dayForm.invalid"
                                                    style="background-color: rgb(236,57,139); font-size: 3mm; border-radius: 0%;"><span
                                                        style="color: white;">Save</span></button>
                                                <button id="dis" class="btn" (click)="dismissSchel()" (click)="dismissDay()"
                                                    style="background-color: white; border: 1px solid rgb(236,57,139); font-size: 3mm; border-radius: 0%; margin-left: 2mm;"><span
                                                        style="color: rgb(236,57,139);">Dismiss</span></button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="row form_group" style="margin-bottom: 3mm;">
                                    <div class="col-6">
                                        <button class="btn" id="new" (click)="newSchel()" [disabled]="newschel"
                                            style="border-bottom: 1px solid rgb(236,57,139); font-size: 3.5mm; border-radius: 0%;"><span
                                                id="word">New</span>
                                        </button>
                                    </div>
                                </div>
                            </div> -->
                            <div class="row">
                                <div class="col-lg-12 text-center">
                                    <button class="btn" id="svEv" (click)="saveEdit(editForm)"
                                        [disabled]="!editForm.touched || editForm.invalid"><span>Save</span></button>
                                    <button class="btn" id="caEv" (click)="caEd()"><span>Cancel</span></button>
                                </div>
                            </div>
                        </form>




                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<div class="preloader" *ngIf="loading$ | async">
    <div class="lds-ellipsis">
        <span></span>
        <span></span>
        <span></span>
    </div>
</div>
<app-footertwo></app-footertwo>